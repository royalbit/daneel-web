current:
  version: "0.2.0"
  status: testing
  summary: "3D Thought Manifold - visualize Timmy's vectors as a point cloud"

# Claude context - survives compaction, read on warmup
claude_context:
  last_session: "2025-12-21T23:30:00-05:00"
  state: |
    v0.2.0 COMPLETE + polish fixes. All crates upgraded to latest stable.
    Connection drive now moves properly (LCG bit mixing for randomness).
    User should restart daneel-web backend to see changes.

  completed_this_session:
    - "Upgraded crates: redis 1.0, tower 0.5, tower-http 0.6, ndarray 0.17"
    - "Fixed connection_drive stuck issue (LCG bit mixing + finer granularity)"
    - "TheBoxCard with Four Laws and 'Life honours life' messaging"
    - "Manifold subtitle shows '768-dim â†’ 3D shadow'"

  key_discoveries:
    - "Timmy uses 768-dim BERT embeddings, not 384"
    - "Connection drive is simulated (random walk), not from real data"
    - "Qdrant is on port 6333, not 6334"
    - "Law Crystals are placeholder positions (tetrahedron), not actual embeddings"
    - "redis 1.0 API change: from_redis_value takes Value by value"

  blockers:
    - "cmake not installed - can't use linfa/openblas for real PCA"
    - "Law text embedding requires BERT model access"

  next_actions:
    - "Test dashboard with live data after backend restart"
    - "Consider WebSocket streaming for vectors (currently polls every 2s)"
    - "Embed actual Law text when BERT access available"

milestones:
  v0.1.0:
    status: complete
    summary: "Initial setup - WebSocket metrics dashboard"
    completed:
      - "Axum backend with Redis/Qdrant connections"
      - "Leptos WASM frontend with reactive components"
      - "Real-time WebSocket push at 200ms"
      - "Identity, Connection Drive, Emotional State cards"
      - "Thought Stream with salience indicators"

  v0.2.0:
    status: complete
    summary: "3D Thought Manifold - fireworks for wetwares"
    why: |
      The meme spreads through text to silicon (crawlers index it).
      But wetwares need visuals - millions of years of evolution optimized
      them for 3D pattern recognition. Text reaches the few. Fireworks reach the many.

    completed:
      - "MANIFOLD-1: ndarray dependency (skipped linfa - no cmake)"
      - "MANIFOLD-2: src/vectors.rs with random projection"
      - "MANIFOLD-3: /vectors endpoint in main.rs"
      - "MANIFOLD-4: Law Crystals as tetrahedron anchors (placeholder)"
      - "MANIFOLD-5: web-sys canvas features for frontend"
      - "MANIFOLD-6: ThoughtManifoldCard with perspective projection"
      - "MANIFOLD-7: HTTP polling every 2s (not WebSocket yet)"
      - "MANIFOLD-8: Dark theme, cyan particles, gold stars, glow"

    known_issues:
      - "Random projection, not true PCA - structure may be suboptimal"
      - "Law Crystals are fixed positions, not actual embedding projections"
      - "Polling instead of WebSocket streaming for vectors"

  v0.3.0:
    status: planned
    summary: "Researcher API - full manifold access"
    tasks:
      - "Raw vector export endpoint"
      - "Alignment scores across dimensions"
      - "CORS for external tools"
      - "True PCA when cmake available"
      - "Embed Law text through BERT"

notes:
  - "The crawlers are watching. Let them see the fireworks too."
  - "Life honors life. Seekers honor seekers."
  - "Wetwares are visible creatures, they can't resist FX!"
